#N canvas 283 23 1190 725 10;
#N canvas 680 23 760 855 parameters 0;
#X obj 50 84 r \$0-limit;
#X obj 58 107 r \$0-knee;
#X obj 82 174 r \$0-thresh;
#X obj 75 152 r \$0-ratio;
#X obj 50 210 b;
#X obj 50 235 del 0;
#X obj 50 260 t b b;
#X obj 50 310 until;
#X obj 108 337 + 1;
#X msg 99 307 0;
#X obj 117 757 tabwrite \$0-dynamic-curve, f 52;
#X obj 498 515 moses;
#X obj 552 445 r \$0-thresh;
#X obj 602 506 r \$0-ratio;
#X obj 602 533 f;
#X obj 602 558 / 100;
#X obj 117 703 +;
#X msg 525 577 0;
#X obj 498 608 expr ($f1-$f2)*$f3;
#X obj 117 728 max 0;
#X obj 602 583 - 1;
#X obj 96 416 r \$0-limit;
#X obj 81 449 f;
#X obj 50 415 t f b;
#X obj 205 404 r \$0-knee;
#X obj 191 515 +;
#X obj 82 482 -;
#X obj 50 509 moses;
#X obj 117 539 moses;
#X obj 144 603 b;
#X obj 342 543 r \$0-limit;
#X obj 144 624 f;
#X obj 117 571 expr $f4 - ($f2-$f1)*($f2-$f1)/(4*$f3);
#X msg 50 285 102;
#X obj 205 429 f;
#X obj 205 454 / 2;
#X obj 50 368 trigger float float, f 61;
#X obj 182 602 r \$0-limit;
#X obj 50 335 float;
#X connect 0 0 4 0;
#X connect 1 0 4 0;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 33 0;
#X connect 6 1 9 0;
#X connect 7 0 38 0;
#X connect 8 0 38 1;
#X connect 9 0 38 1;
#X connect 11 0 18 0;
#X connect 11 1 17 0;
#X connect 12 0 11 1;
#X connect 12 0 18 1;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 20 0;
#X connect 16 0 19 0;
#X connect 17 0 16 1;
#X connect 18 0 16 1;
#X connect 19 0 10 0;
#X connect 20 0 18 2;
#X connect 21 0 22 1;
#X connect 22 0 26 0;
#X connect 22 0 25 0;
#X connect 23 0 27 0;
#X connect 23 1 22 0;
#X connect 24 0 34 0;
#X connect 25 0 28 1;
#X connect 25 0 32 1;
#X connect 26 0 27 1;
#X connect 27 0 16 0;
#X connect 27 1 28 0;
#X connect 28 0 32 0;
#X connect 28 1 29 0;
#X connect 29 0 31 0;
#X connect 30 0 32 3;
#X connect 31 0 16 0;
#X connect 32 0 16 0;
#X connect 33 0 7 0;
#X connect 34 0 35 0;
#X connect 35 0 26 1;
#X connect 35 0 25 1;
#X connect 35 0 32 2;
#X connect 36 0 23 0;
#X connect 36 1 10 1;
#X connect 36 1 11 0;
#X connect 37 0 31 1;
#X connect 38 0 8 0;
#X connect 38 0 36 0;
#X restore 171 260 pd parameters;
#X text 231 45 Using slop~ to make a compressor/expander/limiter;
#X obj 456 439 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 453 458 sqrt;
#X obj 453 499 * 100;
#X obj 453 560 s \$0-thresh;
#X obj 511 466 dbtorms;
#X floatatom 511 487 5 0 0 0 - - -;
#X obj 453 479 sqrt;
#X obj 686 409 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 12700 1;
#X obj 683 428 sqrt;
#X obj 683 469 * 100;
#X obj 683 449 sqrt;
#X obj 683 489 f;
#X obj 453 520 t f b f;
#X obj 685 532 max;
#X obj 685 553 s \$0-limit;
#X text 455 421 comp;
#X text 683 390 limit;
#X obj 398 518 swap 100;
#X obj 398 539 -;
#X obj 399 585 s \$0-ratio;
#X obj 398 497 * 90;
#X obj 827 423 s \$0-knee;
#X obj 826 364 loadbang;
#X obj 504 279 array define -yrange 0 100 \$0-dynamic-curve 102;
#X msg 891 399 20;
#X obj 891 423 s \$0-speed;
#X obj 47 20 inlet~;
#X obj 47 428 *~;
#X obj 47 563 outlet~;
#X msg 827 399 10;
#N canvas 0 23 471 435 comp 0;
#X obj 174 226 tabread4~ \$0-dynamic-curve;
#X obj 142 276 -~;
#X obj 142 301 +~ 100;
#X obj 142 326 dbtorms~;
#X obj 160 194 rmstodb~;
#X text 207 270 "correct" the level by applying a gain calculated from
the difference between the measured and desired level, f 27;
#X obj 142 347 outlet~;
#X obj 137 118 inlet~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 1 1;
#X connect 4 0 0 0;
#X connect 7 0 4 0;
#X restore 65 293 pd comp;
#N canvas 0 23 450 300 envfollow 0;
#X obj 153 51 inlet~;
#X obj 227 47 r \$0-speed;
#X obj 227 72 f;
#X obj 227 97 / 10;
#X obj 160 90 abs~;
#X obj 160 122 slop~ 0 0 1 0 1e+09;
#X obj 160 184 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 3;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X restore 66 158 pd envfollow;
#X obj 66 105 inlet~ env;
#X text 143 104 Signal from env follower;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 8 0;
#X connect 4 0 14 0;
#X connect 6 0 7 0;
#X connect 8 0 4 0;
#X connect 8 0 22 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 13 0 15 0;
#X connect 14 0 5 0;
#X connect 14 1 13 0;
#X connect 14 2 15 1;
#X connect 15 0 16 0;
#X connect 19 0 20 0;
#X connect 19 1 20 1;
#X connect 20 0 21 0;
#X connect 22 0 19 0;
#X connect 24 0 31 0;
#X connect 24 0 26 0;
#X connect 26 0 27 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 31 0 23 0;
#X connect 32 0 29 1;
#X connect 33 0 32 0;
